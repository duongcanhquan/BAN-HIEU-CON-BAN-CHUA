<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>B√ÄI ƒê√ÅNH GI√Å CHUY√äN S√ÇU ‚Äì H√ÄNH TR√åNH H·ªåC T·∫¨P C·ª¶A CON</title>

  <!-- ‚úÖ Font Montserrat -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">

  <!-- ‚úÖ Bootstrap 5.3 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- ‚úÖ FontAwesome 6 -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <!-- ‚úÖ Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <!-- ‚úÖ SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      min-height: 100vh;
      margin: 0;
      padding: 25px;
      background: linear-gradient(-45deg,
        #ee7752,
        #e73c7e,
        #23a6d5,
        #23d5ab);
      background-size: 400% 400%;
      animation: gradientBG 12s ease infinite;
    }

    @keyframes gradientBG {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    .glass-card {
      max-width: 950px;
      margin: auto;
      padding: 45px;
      border-radius: 20px;
      background: rgba(255,255,255,0.95);
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      backdrop-filter: blur(10px);
    }

    h1 {
      font-weight: 800;
      text-align: center;
      font-size: 28px;
      margin-bottom: 8px;
    }

    .subtitle {
      text-align: center;
      font-size: 15px;
      color: #444;
      margin-bottom: 18px;
    }

    .logo {
      text-align: center;
      margin-bottom: 12px;
    }

    .logo img {
      width: 160px;
    }

    .note-box {
      background: #f4f8ff;
      border-left: 6px solid #667eea;
      padding: 15px;
      border-radius: 14px;
      font-size: 14px;
      margin-bottom: 20px;
    }

    label {
      font-weight: 800;
      margin-top: 12px;
    }

    input, select, textarea {
      border-radius: 15px !important;
      padding: 12px !important;
      font-size: 15px;
    }

    .question-box {
      margin-top: 18px;
      padding: 16px;
      border-radius: 15px;
      background: #f9fbff;
      border-left: 6px solid #764ba2;
    }

    .question-box p {
      font-weight: 800;
      margin-bottom: 10px;
    }

    .step {
      display: none;
    }

    .step.active {
      display: block;
      animation: fadeInUp 0.6s;
    }

    .btn-pill {
      border-radius: 50px;
      padding: 14px;
      width: 100%;
      font-weight: 800;
      font-size: 16px;
      border: none;
      background: linear-gradient(to right, #667eea, #764ba2);
      color: white;
      margin-top: 20px;
    }

    .btn-pill:hover {
      opacity: 0.9;
    }

    .progress {
      height: 12px;
      border-radius: 20px;
      margin-bottom: 20px;
    }

    .progress-bar {
      background: linear-gradient(to right, #667eea, #764ba2);
    }

    @media(max-width:768px) {
      .glass-card {
        padding: 25px;
      }
    }
  </style>
</head>

<body>

<div class="glass-card animate__animated animate__fadeIn">

  <!-- ‚úÖ LOGO -->
  <div class="logo">
    <img src="https://raw.githubusercontent.com/duongcanhquan/image/main/Logo%20Cao%20%C4%91a%CC%86%CC%89ng%20Vie%CC%A3%CC%82t%20My%CC%83%20-%20ba%CC%89n%20chua%CC%82%CC%89n%202025-01.png">
  </div>

  <h1>üìå B√ÄI ƒê√ÅNH GI√Å CHUY√äN S√ÇU</h1>
  <p class="subtitle">
    Gi√∫p cha m·∫π hi·ªÉu r√µ t√¨nh tr·∫°ng h·ªçc t·∫≠p ‚Äì t√¢m l√Ω ‚Äì ƒë·ªãnh h∆∞·ªõng c·ªßa con.<br>
    <b>Ch·ªâ m·∫•t 5 ph√∫t nh∆∞ng c√≥ th·ªÉ thay ƒë·ªïi c·∫£ t∆∞∆°ng lai.</b>
  </p>

  <div class="note-box">
    <i class="fa-solid fa-heart-circle-check"></i>
    C√°c c√¢u h·ªèi ƒë∆∞·ª£c chia th√†nh t·ª´ng b∆∞·ªõc ƒë·ªÉ ph·ª• huynh tr·∫£ l·ªùi d·ªÖ d√†ng,
    ƒë·ªìng th·ªùi gi√∫p h·ªá th·ªëng vi·∫øt b√°o c√°o ƒë·ªìng c·∫£m v√† ch√≠nh x√°c h∆°n.
  </div>

  <!-- ‚úÖ Progress -->
  <div class="progress">
    <div class="progress-bar" id="progressBar" style="width:14%"></div>
  </div>

  <form id="surveyForm">

    <!-- ‚úÖ STEP 1: Th√¥ng tin -->
    <div class="step active">
      <h5><i class="fa-solid fa-user"></i> Th√¥ng tin gia ƒë√¨nh</h5>

      <label>T√™n con</label>
      <input class="form-control" name="childName" required>

      <label>Gi·ªõi t√≠nh</label>
      <select class="form-control" name="childGender" required>
        <option value="">-- Ch·ªçn --</option>
        <option>Nam</option>
        <option>N·ªØ</option>
      </select>

      <label>NƒÉm sinh</label>
      <input class="form-control" name="childYear" type="number" required>

      <label>T√™n ph·ª• huynh</label>
      <input class="form-control" name="parentName" required>

      <label>Email nh·∫≠n b√°o c√°o</label>
      <input class="form-control" type="email" name="parentEmail" required>

      <label>ƒêi·ªán tho·∫°i</label>
      <input class="form-control" name="parentPhone" required>

      <button type="button" class="btn-pill" onclick="nextStep()">
        Ti·∫øp t·ª•c <i class="fa-solid fa-arrow-right"></i>
      </button>
    </div>

    <!-- ‚úÖ STEP QUESTIONS -->
    <div id="questionSteps"></div>

    <!-- ‚úÖ STEP CU·ªêI -->
    <div class="step">
      <h5><i class="fa-solid fa-comment-dots"></i> C√¢u 25 ‚Äì Chia s·∫ª th√™m</h5>

      <label>ƒêi·ªÅu khi·∫øn anh/ch·ªã trƒÉn tr·ªü nh·∫•t v·ªÅ con hi·ªán nay?</label>
      <textarea class="form-control" name="extra" rows="4"></textarea>

      <button type="submit" class="btn-pill">
        G·ª¨I KH·∫¢O S√ÅT & NH·∫¨N B√ÅO C√ÅO <i class="fa-solid fa-paper-plane"></i>
      </button>
    </div>

  </form>

</div>

<script>
const scriptURL =
"https://script.google.com/macros/s/AKfycbyxAjNvc4WkXCr2hYylCTGnOcj3yLvjXZyAHnHdfO6qRjlu9-pzQu-hlbrHc445dzUI/exec";

/** ‚úÖ B·ªô c√¢u h·ªèi/ƒë√°p √°n theo t·ª´ng c√¢u */
const QA = [
  { q: "1. Khi nh√¨n v√†o vi·ªác h·ªçc hi·ªán t·∫°i c·ªßa con, c·∫£m gi√°c chung c·ªßa anh/ch·ªã l√† g√¨?",
    opts: [
      "Con kh√° ·ªïn, t·ª± gi√°c ph·∫ßn l·ªõn th·ªùi gian",
      "Con h·ªçc ƒë∆∞·ª£c nh∆∞ng ‚Äúh·ªçc cho xong‚Äù, thi·∫øu m·ª•c ti√™u",
      "Con ch·ªØng l·∫°i, hay tr√¨ ho√£n, kh√≥ duy tr√¨ nh·ªãp h·ªçc",
      "Con xu·ªëng r√µ r·ªát, m·∫•t ƒë·ªông l·ª±c, h·ªçc ƒë·ªëi ph√≥",
      "Con b·ªã √°p l·ª±c/lo √¢u, h·ªçc trong cƒÉng th·∫≥ng"
    ]},
  { q: "2. TrƒÉn tr·ªü l·ªõn nh·∫•t c·ªßa anh/ch·ªã trong vi·ªác h·ªçc c·ªßa con hi·ªán nay l√†:",
    opts: [
      "Con thi·∫øu m·ª•c ti√™u r√µ r√†ng, kh√¥ng bi·∫øt h·ªçc ƒë·ªÉ l√†m g√¨",
      "Con ch∆∞a c√≥ ph∆∞∆°ng ph√°p h·ªçc ph√π h·ª£p",
      "Con d·ªÖ ph√¢n t√°n, kh√≥ t·∫≠p trung, hay tr√¨ ho√£n",
      "Con t·ª± ti, s·ª£ sai, s·ª£ b·ªã so s√°nh",
      "Con ‚Äúc√≥ nƒÉng l·ª±c‚Äù nh∆∞ng kh√¥ng ch·ªãu c·ªë g·∫Øng"
    ]},
  { q: "3. Khi b·∫Øt ƒë·∫ßu h·ªçc, con th∆∞·ªùng:",
    opts: [
      "T·ª± ng·ªìi v√†o b√†n, l√†m theo k·∫ø ho·∫°ch",
      "C·∫ßn nh·∫Øc nh·∫π m·ªõi v√†o gu·ªìng",
      "K√©o d√†i th·ªùi gian, l√†m ch·∫≠m, hay l·∫°c sang vi·ªác kh√°c",
      "N√© tr√°nh/than m·ªát/ƒë·ª£i s√°t h·∫°n m·ªõi l√†m",
      "B·∫Øt ƒë·∫ßu ƒë∆∞·ª£c nh∆∞ng nhanh n·∫£n, b·ªè gi·ªØa ch·ª´ng"
    ]},
  { q: "4. V·ªÅ k·∫øt qu·∫£ h·ªçc t·∫≠p g·∫ßn ƒë√¢y:",
    opts: [
      "·ªîn ƒë·ªãnh v√† c√≥ xu h∆∞·ªõng tƒÉng",
      "T·∫°m ·ªïn nh∆∞ng ‚Äúl√™n xu·ªëng‚Äù theo m√¥n",
      "Gi·∫£m nh·∫π v√† k√©o d√†i v√†i th√°ng",
      "Gi·∫£m r√µ r·ªát, gia ƒë√¨nh lo nhi·ªÅu",
      "ƒêi·ªÉm kh√¥ng ph·∫£n √°nh ƒë√∫ng v√¨ con cƒÉng th·∫≥ng/kh·ªßng ho·∫£ng"
    ]},
  { q: "5. Khi anh/ch·ªã nh·∫Øc ƒë·∫øn chuy·ªán h·ªçc, con th∆∞·ªùng:",
    opts: [
      "L·∫Øng nghe, trao ƒë·ªïi ƒë∆∞·ª£c",
      "Nghe nh∆∞ng √≠t n√≥i, n√© chia s·∫ª",
      "Im l·∫∑ng/ƒë·ªïi ch·ªß ƒë·ªÅ/ƒëi ch·ªó kh√°c",
      "C√°u g·∫Øt, ph·∫£n kh√°ng, tranh lu·∫≠n gay g·∫Øt",
      "H·ª£p t√°c l√∫c ƒë·∫ßu nh∆∞ng sau ƒë√≥ b√πng n·ªï/kh√≥c/ƒë√≥ng c·ª≠a"
    ]},
  { q: "6. M·ªëi quan h·ªá cha m·∫π‚Äìcon hi·ªán t·∫°i gi·ªëng nh·∫•t v·ªõi:",
    opts: [
      "G·∫ßn g≈©i, con ch·ªß ƒë·ªông chia s·∫ª",
      "B√¨nh th∆∞·ªùng, v·∫´n n√≥i chuy·ªán nh∆∞ng ch∆∞a s√¢u",
      "C√≥ kho·∫£ng c√°ch, con √≠t chia s·∫ª chuy·ªán quan tr·ªçng",
      "CƒÉng th·∫≥ng, d·ªÖ ‚Äúƒë·ª•ng l√† n·ªï‚Äù khi n√≥i chuy·ªán h·ªçc",
      "Con tr√°nh m·∫∑t/thu m√¨nh, gia ƒë√¨nh lo ng·∫°i"
    ]},
  { q: "7. Con c√≥ d·∫•u hi·ªáu √°p l·ª±c khi ·ªü g·∫ßn cha m·∫π kh√¥ng?",
    opts: [
      "Kh√¥ng, con kh√° tho·∫£i m√°i",
      "Th·ªânh tho·∫£ng c√≥, nh·∫•t l√† khi nh·∫Øc chuy·ªán h·ªçc",
      "C√≥, con d·ªÖ cƒÉng/nh·∫°y c·∫£m/kh√≥ ch·ªãu",
      "R√µ r·ªát: con n√© tr√°nh, s·ª£ b·ªã h·ªèi, d·ªÖ c√°u",
      "C√≥ d·∫•u hi·ªáu lo √¢u/bu·ªìn b√£/k√≠n ƒë√°o k√©o d√†i"
    ]},
  { q: "8. Khi n√≥i chuy·ªán h·ªçc v·ªõi con, ƒëi·ªÅu hay x·∫£y ra nh·∫•t l√†:",
    opts: [
      "Hai b√™n th·ªëng nh·∫•t ƒë∆∞·ª£c vi·ªác c·∫ßn l√†m",
      "Anh/ch·ªã n√≥i nhi·ªÅu h∆°n, con nghe nh∆∞ng √≠t th·ª±c hi·ªán",
      "N√≥i m·ªôt l√∫c th√¨ ‚Äúƒëi v√†o b·∫ø t·∫Øc‚Äù, kh√¥ng ra gi·∫£i ph√°p",
      "K·∫øt th√∫c b·∫±ng m·ªát m·ªèi/cƒÉng th·∫≥ng/gi·∫≠n d·ªói",
      "Anh/ch·ªã th∆∞·ªùng ph·∫£i ‚Äúb√πng n·ªï‚Äù m·ªõi khi·∫øn con l√†m"
    ]},
  { q: "9. ƒêi·ªÅu anh/ch·ªã lo nh·∫•t (kh√¥ng ch·ªâ ƒëi·ªÉm s·ªë) l√†:",
    opts: [
      "Con m·∫•t t·ª± tin, t·ª± ƒë√°nh gi√° th·∫•p b·∫£n th√¢n",
      "Con thi·∫øu k·ªπ nƒÉng t·ª± l·∫≠p, kh√¥ng bi·∫øt t·ª± t·ªï ch·ª©c",
      "Con kh√¥ng th·∫•y √Ω nghƒ©a h·ªçc, d·ªÖ bu√¥ng xu√¥i",
      "Con b·ªã ·∫£nh h∆∞·ªüng b·ªüi b·∫°n b√®/ƒëi·ªán tho·∫°i/m·∫°ng x√£ h·ªôi",
      "Con c√≥ d·∫•u hi·ªáu cƒÉng th·∫≥ng/lo √¢u/ki·ªát s·ª©c"
    ]},
  { q: "10. Anh/ch·ªã c√≥ t·ª´ng t·ª± h·ªèi ‚Äúm√¨nh ƒëang ƒë·ªìng h√†nh ƒë√∫ng c√°ch ch∆∞a?‚Äù",
    opts: [
      "Hi·∫øm khi, t√¥i kh√° ch·∫Øc m√¨nh ph√π h·ª£p",
      "Th·ªânh tho·∫£ng, nh∆∞ng v·∫´n ki·ªÉm so√°t ƒë∆∞·ª£c",
      "Nhi·ªÅu l·∫ßn, v√¨ c√°ch n√†o c≈©ng th·∫•y kh√¥ng hi·ªáu qu·∫£",
      "R·∫•t th∆∞·ªùng xuy√™n, t√¥i s·ª£ m√¨nh g√¢y √°p l·ª±c cho con",
      "T√¥i kh√¥ng bi·∫øt b·∫Øt ƒë·∫ßu t·ª´ ƒë√¢u, c·∫ßn ng∆∞·ªùi h∆∞·ªõng d·∫´n"
    ]},
  { q: "11. ƒêi·ªÅu khi·∫øn anh/ch·ªã s·ª£ nh·∫•t trong t∆∞∆°ng lai c·ªßa con:",
    opts: [
      "Con ch·ªçn sai h∆∞·ªõng v√† ph√≠ nhi·ªÅu nƒÉm",
      "Con kh√¥ng c√≥ ƒë·ªông l·ª±c, kh√¥ng ch·ªãu c·ªë g·∫Øng",
      "Con thi·∫øu b·∫£n lƒ©nh, d·ªÖ g·ª•c khi g·∫∑p kh√≥",
      "Con kh√¥ng c√≥ ngh·ªÅ/kh√¥ng t·ª± nu√¥i s·ªëng ƒë∆∞·ª£c",
      "Con b·ªã t·ªïn th∆∞∆°ng t√¢m l√Ω k√©o d√†i m√† gia ƒë√¨nh kh√¥ng bi·∫øt"
    ]},
  { q: "12. C·∫£m x√∫c c·ªßa anh/ch·ªã b·ªã ·∫£nh h∆∞·ªüng b·ªüi chuy·ªán h·ªçc c·ªßa con ·ªü m·ª©c:",
    opts: [
      "√çt, t√¥i gi·ªØ ƒë∆∞·ª£c c√¢n b·∫±ng",
      "C√≥, nh∆∞ng v·∫´n ki·ªÉm so√°t ƒë∆∞·ª£c",
      "Kh√° nhi·ªÅu, t√¥i th∆∞·ªùng lo/kh√≥ ng·ªß",
      "R·∫•t nhi·ªÅu, t√¥i cƒÉng th·∫≥ng th∆∞·ªùng xuy√™n",
      "T√¥i c·∫£m th·∫•y ki·ªát s·ª©c/b·∫•t l·ª±c v√† c·∫ßn h·ªó tr·ª£"
    ]},
  { q: "13. ƒêi·ªÅu anh/ch·ªã mong nh·∫•t cho con:",
    opts: [
      "H·∫°nh ph√∫c v√† t·ª± tin v√†o ch√≠nh m√¨nh",
      "C√≥ k·ª∑ lu·∫≠t v√† t·ª± l·∫≠p",
      "H·ªçc ƒë√∫ng nƒÉng l·ª±c, ph√°t huy ƒëi·ªÉm m·∫°nh",
      "C√≥ ƒë·ªãnh h∆∞·ªõng r√µ r√†ng ƒë·ªÉ kh√¥ng l·∫°c ƒë∆∞·ªùng",
      "V·ª´a h·∫°nh ph√∫c v·ª´a c√≥ n·ªÅn t·∫£ng ngh·ªÅ nghi·ªáp v·ªØng"
    ]},
  { q: "14. Anh/ch·ªã mu·ªën con tr∆∞·ªüng th√†nh th√†nh ng∆∞·ªùi:",
    opts: [
      "T·ª≠ t·∫ø, bi·∫øt quan t√¢m, s·ªëng c√≥ tr√°ch nhi·ªám",
      "B·∫£n lƒ©nh, t·ª± quy·∫øt, d√°m l·ª±a ch·ªçn",
      "C√≥ nƒÉng l·ª±c chuy√™n m√¥n gi·ªèi, l√†m ƒë∆∞·ª£c vi·ªác",
      "Bi·∫øt qu·∫£n tr·ªã c·∫£m x√∫c, kh√¥ng g·ª•c khi √°p l·ª±c",
      "C√≥ m·ª•c ti√™u, bi·∫øt l·∫≠p k·∫ø ho·∫°ch v√† theo ƒë·∫øn c√πng"
    ]},
  { q: "15. ‚ÄúTh√†nh c√¥ng‚Äù theo anh/ch·ªã l√†:",
    opts: [
      "Con hi·ªÉu m√¨nh, s·ªëng ƒë√∫ng gi√° tr·ªã",
      "Con c√≥ ngh·ªÅ ·ªïn ƒë·ªãnh, thu nh·∫≠p t·ªët",
      "Con t·ª± l·∫≠p, kh√¥ng ph·ª• thu·ªôc gia ƒë√¨nh",
      "Con ph√°t tri·ªÉn nƒÉng l·ª±c v√† ƒë∆∞·ª£c c√¥ng nh·∫≠n",
      "Con c√¢n b·∫±ng: s·ª©c kho·∫ª tinh th·∫ßn + ngh·ªÅ nghi·ªáp + gia ƒë√¨nh"
    ]},
  { q: "16. Hi·ªán gia ƒë√¨nh ƒë√£ c√≥ k·∫ø ho·∫°ch/ƒë·ªãnh h∆∞·ªõng h·ªçc t·∫≠p r√µ r√†ng cho con ch∆∞a?",
    opts: [
      "R·ªìi, kh√° r√µ m·ª•c ti√™u v√† l·ªô tr√¨nh",
      "C√≥ ƒë·ªãnh h∆∞·ªõng, nh∆∞ng ch∆∞a th√†nh k·∫ø ho·∫°ch c·ª• th·ªÉ",
      "Ch∆∞a r√µ, c√≤n thay ƒë·ªïi li√™n t·ª•c",
      "M∆° h·ªì, gia ƒë√¨nh ƒëang ‚Äúloay hoay‚Äù",
      "C√≥ m√¢u thu·∫´n: cha m·∫π mu·ªën m·ªôt ki·ªÉu, con mu·ªën ki·ªÉu kh√°c"
    ]},
  { q: "17. ƒêi·ªÅu khi·∫øn anh/ch·ªã kh√≥ quy·∫øt ƒë·ªãnh nh·∫•t hi·ªán nay:",
    opts: [
      "Kh√¥ng bi·∫øt con h·ª£p ng√†nh g√¨",
      "S·ª£ ch·ªçn sai tr∆∞·ªùng/ng√†nh, t·ªën th·ªùi gian ti·ªÅn b·∫°c",
      "Con thi·∫øu th√¥ng tin, thi·∫øu tr·∫£i nghi·ªám th·ª±c t·∫ø",
      "Con ch∆∞a ƒë·ªß k·ª∑ lu·∫≠t ƒë·ªÉ theo ƒë∆∞·ªùng d√†i",
      "Gia ƒë√¨nh kh√¥ng th·ªëng nh·∫•t c√°ch ƒë·ªìng h√†nh"
    ]},
  { q: "18. Hi·ªán con ƒëang ·ªü tr·∫°ng th√°i ƒë·ªãnh h∆∞·ªõng:",
    opts: [
      "C√≥ m·ª•c ti√™u kh√° r√µ, bi·∫øt m√¨nh mu·ªën g√¨",
      "C√≥ v√†i l·ª±a ch·ªçn nh∆∞ng ch∆∞a ch·∫Øc ch·∫Øn",
      "M∆° h·ªì, ‚Äúh·ªèi th√¨ b·∫£o kh√¥ng bi·∫øt‚Äù",
      "Th·ªù ∆°/n√© tr√°nh n√≥i v·ªÅ t∆∞∆°ng lai",
      "Hoang mang, lo l·∫Øng, s·ª£ quy·∫øt ƒë·ªãnh"
    ]},
  { q: "19. Con c√≥ xu h∆∞·ªõng t√≠nh c√°ch n·ªïi b·∫≠t:",
    opts: [
      "H∆∞·ªõng ngo·∫°i, th√≠ch giao ti·∫øp, ho·∫°t ƒë·ªông",
      "H∆∞·ªõng n·ªôi, s√¢u s·∫Øc, c·∫ßn kh√¥ng gian ri√™ng",
      "Nh·∫°y c·∫£m, d·ªÖ b·ªã ·∫£nh h∆∞·ªüng b·ªüi l·ªùi n√≥i",
      "M·∫°nh m·∫Ω/c·ª©ng ƒë·∫ßu, th√≠ch t·ª± quy·∫øt",
      "Th·∫≠n tr·ªçng, c·∫ßu to√†n, s·ª£ sai"
    ]},
  { q: "20. Khi g·∫∑p kh√≥ khƒÉn h·ªçc t·∫≠p, con th∆∞·ªùng:",
    opts: [
      "T·ª± t√¨m c√°ch gi·∫£i quy·∫øt, th·ª≠ nhi·ªÅu c√°ch",
      "H·ªèi ng∆∞·ªùi kh√°c khi c·∫ßn, bi·∫øt nh·ªù h·ªó tr·ª£",
      "Tr√¨ ho√£n, n√© tr√°nh, ƒë·ª£i ‚Äúh·∫øt kh√≥‚Äù",
      "B·ª±c b·ªôi, d·ªÖ b·ªè cu·ªôc",
      "CƒÉng th·∫≥ng, t·ª± tr√°ch, lo √¢u"
    ]},
  { q: "21. Phong c√°ch ph·ª• huynh c·ªßa anh/ch·ªã gi·ªëng nh·∫•t:",
    opts: [
      "ƒê·ªìng h√†nh: t√¥n tr·ªçng v√† ƒë·ªãnh h∆∞·ªõng r√µ",
      "K·ª≥ v·ªçng cao: th√∫c con c·ªë g·∫Øng nhi·ªÅu",
      "Ki·ªÉm so√°t: t√¥i c·∫ßn con l√†m ƒë√∫ng",
      "Bao b·ªçc: s·ª£ con t·ªïn th∆∞∆°ng n√™n l√†m thay",
      "B·∫•t nh·∫•t: l√∫c nghi√™m, l√∫c m·ªÅm v√¨ m·ªát m·ªèi"
    ]},
  { q: "22. Gia ƒë√¨nh ƒëang m·∫Øc k·∫πt nh·∫•t ·ªü:",
    opts: [
      "Con thi·∫øu ƒë·ªông l·ª±c v√† m·ª•c ti√™u",
      "Con thi·∫øu k·ª∑ lu·∫≠t/th√≥i quen h·ªçc",
      "Kh√≥ giao ti·∫øp, d·ªÖ xung ƒë·ªôt",
      "M∆° h·ªì ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp",
      "√Åp l·ª±c t√¢m l√Ω c·ªßa con ho·∫∑c c·ªßa cha m·∫π"
    ]},
  { q: "23. N·∫øu c√≥ m·ªôt ‚Äúl·ªô tr√¨nh 4‚Äì8 tu·∫ßn‚Äù, anh/ch·ªã mu·ªën ∆∞u ti√™n ƒëi·ªÅu g√¨?",
    opts: [
      "Kh√¥i ph·ª•c ƒë·ªông l·ª±c v√† th√≥i quen h·ªçc",
      "Gi·∫£m cƒÉng th·∫≥ng, c·∫£i thi·ªán c·∫£m x√∫c",
      "X√¢y l·∫°i giao ti·∫øp v√† s·ª± h·ª£p t√°c trong nh√†",
      "ƒê·ªãnh h∆∞·ªõng ng√†nh/ngh·ªÅ ph√π h·ª£p v·ªõi con",
      "X√¢y k·ªπ nƒÉng t·ª± l·∫≠p: k·∫ø ho·∫°ch ‚Äì k·ª∑ lu·∫≠t ‚Äì t·ª± tin"
    ]},
  { q: "24. T·ªïng th·ªÉ, anh/ch·ªã ƒë√°nh gi√° h√†nh tr√¨nh c·ªßa con hi·ªán t·∫°i:",
    opts: [
      "·ªîn, ch·ªâ c·∫ßn t·ªëi ∆∞u th√™m",
      "T·∫°m ·ªïn nh∆∞ng c·∫ßn ƒë·ªãnh h∆∞·ªõng r√µ",
      "ƒêang l·ªách nh·ªãp, c·∫ßn ch·ªânh k·ª∑ lu·∫≠t/th√≥i quen",
      "ƒêang xu·ªëng, c·∫ßn can thi·ªáp s·ªõm",
      "C√≥ d·∫•u hi·ªáu kh·ªßng ho·∫£ng/ki·ªát s·ª©c, c·∫ßn h·ªó tr·ª£ chuy√™n s√¢u"
    ]},
];

/** ‚úÖ Render th√†nh 6 b∆∞·ªõc (m·ªói b∆∞·ªõc 4 c√¢u) */
const questionSteps = document.getElementById("questionSteps");
const perStep = 4;
const totalQ = QA.length;
const totalStep = Math.ceil(totalQ / perStep);

for (let s = 0; s < totalStep; s++) {
  const start = s * perStep;
  const end = Math.min(start + perStep, totalQ);

  let html = `<div class="step">
    <h5 class="mb-2"><i class="fa-solid fa-clipboard-question"></i> Ph·∫ßn ${s + 1} / ${totalStep}</h5>
  `;

  for (let i = start; i < end; i++) {
    html += `
      <div class="question-box">
        <p>${QA[i].q}</p>
        <select class="form-control" name="q${i + 1}" required>
          <option value="">-- Ch·ªçn c√¢u tr·∫£ l·ªùi --</option>
          ${QA[i].opts.map(opt => `<option value="${opt}">${opt}</option>`).join("")}
        </select>
      </div>
    `;
  }

  html += `
    <div class="d-flex gap-2 mt-3">
      <button type="button" class="btn-pill" onclick="prevStep()">
        <i class="fa-solid fa-arrow-left"></i> Quay l·∫°i
      </button>
      <button type="button" class="btn-pill" onclick="nextStep()">
        Ti·∫øp t·ª•c <i class="fa-solid fa-arrow-right"></i>
      </button>
    </div>
  </div>`;

  questionSteps.innerHTML += html;
}

/** ‚úÖ Step Control + Validate */
let currentStep = 0;
const steps = document.querySelectorAll(".step");

function updateProgress() {
  const progress = ((currentStep + 1) / steps.length) * 100;
  document.getElementById("progressBar").style.width = progress + "%";
}

function validateStep() {
  const fields = steps[currentStep].querySelectorAll("input, select, textarea");
  for (const f of fields) {
    if (f.hasAttribute("required") && !f.checkValidity()) {
      Swal.fire("‚ö†Ô∏è Thi·∫øu th√¥ng tin", "Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß tr∆∞·ªõc khi ti·∫øp t·ª•c.", "warning");
      return false;
    }
  }
  return true;
}

function nextStep() {
  if (!validateStep()) return;
  steps[currentStep].classList.remove("active");
  currentStep++;
  steps[currentStep].classList.add("active");
  updateProgress();
}

function prevStep() {
  steps[currentStep].classList.remove("active");
  currentStep--;
  steps[currentStep].classList.add("active");
  updateProgress();
}

/** ‚úÖ Submit Google Sheet */
document.getElementById("surveyForm").addEventListener("submit", function(e){
  e.preventDefault();

  // email + phone b·∫Øt bu·ªôc (nh·∫•n m·∫°nh)
  const email = (this.parentEmail?.value || "").trim();
  const phone = (this.parentPhone?.value || "").trim();
  if (!email || !phone) {
    Swal.fire("‚ö†Ô∏è Thi·∫øu th√¥ng tin!", "Email v√† SƒêT l√† b·∫Øt bu·ªôc ƒë·ªÉ nh·∫≠n b√°o c√°o chuy√™n s√¢u.", "warning");
    return;
  }

  Swal.fire({
    title: "ƒêang g·ª≠i kh·∫£o s√°t...",
    text: "Vui l√≤ng ch·ªù trong gi√¢y l√°t",
    allowOutsideClick: false,
    didOpen: () => Swal.showLoading()
  });

  const formData = new FormData(this);

  const payload = {
    testType: "B√ÄI ƒê√ÅNH GI√Å CHUY√äN S√ÇU",
    childName: formData.get("childName"),
    childGender: formData.get("childGender"),
    childYear: formData.get("childYear"),
    parentName: formData.get("parentName"),
    parentEmail: formData.get("parentEmail"),
    parentPhone: formData.get("parentPhone"),
    answers: [],
    extra: formData.get("extra") || ""
  };

  for (let i = 1; i <= 24; i++) payload.answers.push(formData.get("q"+i));

 fetch(scriptURL, {
  method: "POST",
  mode: "no-cors",
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify(payload)
})
.then(() => {
   Swal.fire("‚úÖ Th√†nh c√¥ng!", "D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c l∆∞u!", "success");
})
.catch(err => {
   Swal.fire("‚ùå L·ªói!", err.toString(), "error");
});

</script>



</body>
</html>
